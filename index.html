<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript">
		var xhr = null;
		if (window.XMLHttpRequest) {
			xhr = new XMLHttpRequest();
		}else{
			xhr = new ActiveXObject('Microsoft.XMLHTTP');//ie6
		}

		// var xhr = null;
		// try{
		// 	xhr = new XMLHttpRequest();
		// 	throw new error("cuole");
		// }catch(e){
		// 	xhr = new ActiveXObject('Microsoft.XMLHTTP');
		// }
		
		//1.
		xhr.open("get","data.js",true);//true和false控制异步和同步~看后面代码执行的需求
		//get方法参数拼接在请求地址后面，eg:xhr.open("get","data.js?username=encodeURI(哈哈)&age=12",true) 乱码编码url
		//   post方法参数是放在send方法里传过去 eg:xhr.open("post","data.js".true) xhr.send("username=aa&age=12");

		//不要忽视get方式缓存的影响，post方法没有  解决方法 清除缓存 或者传地址加上随机数或者时间戳 new data().getTime();
		
		xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded')//post方式要注意这个问题，声明发送的数据类型，无需对字符（汉字）进行编码

		xhr.send()//发送请求

		xhr.onreadystatechange = function(){//respnseText 请求返回的内容就存在这个属性里
			if (xhr.readyState == 4 && xhr.state == 200) { //state服务器状态 http状态码  readystate ajax状态
				//json.parse()

			}
		}
	</script>
</body>
</html>
